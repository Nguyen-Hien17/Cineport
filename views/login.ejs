<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cineport</title>

    <link rel="stylesheet" href="css/login.css">
</head>

<body>
    <nav class="login-container">
        <span class="logo">
            <a href="#">
                <img src="image/cineport_logo.png" alt="">
            </a>
        </span>

        <span class="login-form">
            <form action="/login" method="POST" id="loginForm">
                <li class="account-input">
                    <input type="email" placeholder="Enter your email" name="email">
                </li>

                <li class="account-input">
                    <input type="password" placeholder="Password" name="password">
                </li>

                <div class="login-button">
                    <button type="submit">Log In</button>
                </div>

                <!-- Hidden region input -->
                <input type="hidden" name="region" id="regionInput" value="US">
            </form>
        </span>
    </nav>

    <script>
        // Default fallback
        const regionInput = document.getElementById('regionInput');
        regionInput.value = 'US';

        // IP-based region detection
        fetch('https://ipinfo.io/json?token=ec7e39db881fca')
            .then(res => res.json())
            .then(data => {
                if (data && data.country) {
                    regionInput.value = data.country;
                    console.log('Region set from IP:', data.country);
                }
            })
            .catch(err => {
                console.warn('IP region lookup failed, using US', err);
            });
    </script>
</body>

</html>